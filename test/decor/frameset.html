<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="frameset.css" />
<style>
.remove { background-color: red; color: white; }
.noframeset { border: 2px solid blue; }
*[id] { margin: 0.5em; border: 1px dashed black; }
*[hf\:role=frame] { margin: 0.5em; border: 2px dotted black; }
</style>
<style>
.style-fail { display: none; }

body { background-color: #ffffff; }
nav ul { margin: 0; padding: 0; }
nav li { display: inline; list-style: outside none; margin: 0.1em; padding: 0.25em 1em; background-color: #dddddd; }
#panner { background-color: #77ff77; color: #ffffff; text-align: center; }
.hidden { display: none; }
</style>
<script>
Meeko.framer.configFrame({
	duration: 250,
	entering: function(msg) { document.getElementById('panner').className = ''; },
	leaving: {
		before: function(msg) { },
		after: function(msg) { }
	}
});
</script>
</head>
<body>
<style>
.style-in-body-fail { display: none; }
</style>

<div hf:role="frame" name="hf_top" hf:src="scope:./index.html" hf:type="html">
	<div hf:role="body" hf:transform="ht" hf:format="css">
	
		<h1 expr:.text=".title {.text}">{{title}}</h1>
		
		<nav expr:.html=".nav">
		</nav>
	</div>
</div>
		
<hr />

<p id="panner" class="hidden"><b>pushState Assisted Navigation</b> is active</p>

<div class="style-fail" style="background-color: red;">
If you can see this then &lt;style&gt; elements
from the frameset document aren't being imported.
</div> 

<div class="style-in-body-fail" style="background-color: red;">
If you can see this then &lt;style&gt; elements
in the &lt;body&gt; of the frameset document aren't being imported.
</div> 

<div hf:role="frame" name="hf_main" hf:src="scope:./normal.html" hf:type="html">
	<div hf:role="body" hf:transform="ht" hf:format="css">
	
		<div id="frameset-header" class="section">
		#frameset-header
		<div expr:.html="#page-header">
		<div id="page-header" class="remove">
		#page-header in frameset: You should NOT be able to see this.
		</div>
		</div>
		</div #frameset-header>
		
		<div expr:.html="#page-main">
		<div id="page-main" class="remove">
		#page-main in frameset: You should NOT be able to see this.
		</div>
		</div>
		
		<div id="frameset-footer" class="section">
		#frameset-footer
		<div expr:.html="#page-footer">
		<div id="page-footer" class="remove">
		#page-footer in frameset: You should NOT be able to see this.
		</div>
		</div>
		</div #frameset-footer>
	
	</div>
</div #hf_main>

	</div>
</div #hf_top>

<div id="remove" class="remove">
#remove in frameset: You should NOT be able to see this - 
it is removed by a script.
</div>
<script type="text/javascript">
if (window.name != "meeko-parser") (function() { 
	var el = document.getElementById("remove");
	el.parentNode.removeChild(el);
})();
else alert("Error: script was executed in " + window.name + " document context");
</script>

<script type="text/plain">
alert('Error: script with type "text/plain" was treated as Javascript');
</script>

</body>
</html>

